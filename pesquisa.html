<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pesquisa</title>
    <!-- Jquery only -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="container header">
      <div class="row">
        <nav class="nav">
          <a class="nav-link active" aria-current="page" href="index.html"
            >Home</a
          >
          <a class="nav-link" href="genres.html">Genres</a>
          <a class="nav-link" href="publishers.html">Publishers</a>
        </nav>
      </div>
    </header>
    <main class="container fluid">
      <h4>Pesquisa:</h4>
      <div class="row" id="tela"></div>
      <script>
        const pesquisa = new URLSearchParams(location.search);
        let nome = pesquisa.get("id");
        fetch(
          `https://api.rawg.io/api/games?key=e48568ca0ba1496ab27f6df2d0597d66&search=${nome}`
        )
          .then((res) => res.json())
          .then((data) => {
            let std = "";
            for (let i = 0; i < data.results.length; i++) {
              let game = data.results[i];
              std += `<div class="card col-md-4">
                        <img src="${game.background_image}" width="320" height="200" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title nsei">${game.name}</h5>
                            <p>Released: ${game.released}</p>
                          </div>
                        </div>`;
            }
            document.getElementById("tela").innerHTML = std;
          });
      </script>
      <div class="row sbr">
        <div class="col-12 col-lg-8">
          <h2>Sobre</h2>
          <p>
            Site feito para o segundo trabalho prático da disciplina de
            Desenvolvimento de Interfaces Web, ultilizando API do site RAWG.
          </p>
        </div>
        <div class="col-12 col-lg-4">
          <h2>Editorial</h2>
          <p>Aluno: Rafael Rodrigues Oliveira</p>
          <p>matrícula: 789905</p>
          <p>Curso: Ciência da computação</p>
        </div>
      </div>
    </main>
    <footer class="container footer">
      <div class="row">
        <p>
          Copyright 2022 - Diciplina de Densenvolivimento de Interfaces Web -
          ICEI PUC Minas
        </p>
      </div>
    </footer>
  </body>
</html>
